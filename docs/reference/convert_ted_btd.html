<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>BVDR Conversion to Create BTD data — convert_ted_btd • GAPsurvey</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="BVDR Conversion to Create BTD data — convert_ted_btd"><meta name="description" content="Converts Marport BVDR data (.ted and .tet files from Marport headrope sensor) to .BTD format.  You must first run the BVDR converter program (convert_bvdr.exe) to convert the Marport .bvdr files into .ted and .tet files that can be pulled into R. The BVDR program and instructions can be found in the RACE Survey App.  You will have to create your own .SGT file using the example in the BVDR instruction file with start and end time (be sure to include a carriage return after your (second and) final row of data!), because this is not a file that our current systems creates.  Once you have used the BVDR converter to output the .ted and .tet files you are ready to use the convert_ted_btd() function here!"><meta property="og:description" content="Converts Marport BVDR data (.ted and .tet files from Marport headrope sensor) to .BTD format.  You must first run the BVDR converter program (convert_bvdr.exe) to convert the Marport .bvdr files into .ted and .tet files that can be pulled into R. The BVDR program and instructions can be found in the RACE Survey App.  You will have to create your own .SGT file using the example in the BVDR instruction file with start and end time (be sure to include a carriage return after your (second and) final row of data!), because this is not a file that our current systems creates.  Once you have used the BVDR converter to output the .ted and .tet files you are ready to use the convert_ted_btd() function here!"><meta property="og:image" content="https://afsc-gap-products.github.io/GAPsurvey/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GAPsurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2024.04.05</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa far fa-file-code fa-lg"></span> Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-newspaper"></span> Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/example-script.html">Example got-to script</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/afsc-gap-products/GAPsurvey/releases"><span class="fa fas fa-bullhorn fa-lg"></span> Release Notes</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../mailto:nmfs.afsc.gap.metadata@noaa.gov" aria-label="email"><span class="fa fas fa-paper-plane fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/afsc-gap-products/GAPsurvey/issues/" aria-label="issues"><span class="fa fas fa-question-circle fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/afsc-gap-products/GAPsurvey" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.fisheries.noaa.gov/alaska/science-data/groundfish-assessment-program-bottom-trawl-surveys" aria-label="homepage"><span class="fa fa-fish"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>BVDR Conversion to Create BTD data</h1>
      <small class="dont-index">Source: <a href="https://github.com/afsc-gap-products/GAPsurvey/blob/HEAD/R/functions.R" class="external-link"><code>R/functions.R</code></a></small>
      <div class="d-none name"><code>convert_ted_btd.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Converts Marport BVDR data (.ted and .tet files from Marport headrope sensor) to .BTD format.  You must first run the BVDR converter program (convert_bvdr.exe) to convert the Marport .bvdr files into .ted and .tet files that can be pulled into R. The BVDR program and instructions can be found in the RACE Survey App.  You will have to create your own .SGT file using the example in the BVDR instruction file with start and end time (be sure to include a carriage return after your (second and) final row of data!), because this is not a file that our current systems creates.  Once you have used the BVDR converter to output the .ted and .tet files you are ready to use the convert_ted_btd() function here!</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">convert_ted_btd</span><span class="op">(</span></span>
<span>  VESSEL <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  CRUISE <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  HAUL <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  MODEL_NUMBER <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  VERSION_NUMBER <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  SERIAL_NUMBER <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  path_in <span class="op">=</span> <span class="st">"C:/Program Files/Marport Server/Logs/"</span>,</span>
<span>  path_out <span class="op">=</span> <span class="st">"./"</span>,</span>
<span>  filename_add <span class="op">=</span> <span class="st">"new"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-vessel">VESSEL<a class="anchor" aria-label="anchor" href="#arg-vessel"></a></dt>
<dd><p>Optional. Default = NA. The vessel number (e.g., 162 for AK Knight, 94 for Vesteraalen). If NA or not called in the function, a prompt will appear asking for this data.</p></dd>


<dt id="arg-cruise">CRUISE<a class="anchor" aria-label="anchor" href="#arg-cruise"></a></dt>
<dd><p>Optional. Default = NA. The cruise number, which is usually the year + sequential two digit cruise (e.g., 202101). If NA or not called in the function, a prompt will appear asking for this data.</p></dd>


<dt id="arg-haul">HAUL<a class="anchor" aria-label="anchor" href="#arg-haul"></a></dt>
<dd><p>Optional. Default = NA. The haul number that you are trying to convert data for (e.g., 3). If NA or not called in the function, a prompt will appear asking for this data.</p></dd>


<dt id="arg-model-number">MODEL_NUMBER<a class="anchor" aria-label="anchor" href="#arg-model-number"></a></dt>
<dd><p>Optional. Default = NA. The model number of the Marport sensor (e.g., 123 or 999, you can put in NA or a dummy number here instead of the actual model number without any negative repercussions).</p></dd>


<dt id="arg-version-number">VERSION_NUMBER<a class="anchor" aria-label="anchor" href="#arg-version-number"></a></dt>
<dd><p>Optional. Default = NA. The version number of the Marport sensor (e.g., 123 or 999, you can put in NA or a dummy number here instead of the actual version number without any negative repercussions).</p></dd>


<dt id="arg-serial-number">SERIAL_NUMBER<a class="anchor" aria-label="anchor" href="#arg-serial-number"></a></dt>
<dd><p>Optional. Default = NA. The serial number of the Marport sensor (e.g., 123 or 999, you can put in NA or a dummy number here instead of the actual serial number without any negative repercussions).</p></dd>


<dt id="arg-path-in">path_in<a class="anchor" aria-label="anchor" href="#arg-path-in"></a></dt>
<dd><p>Optional. The default is the location on the catch computer ("C:/Program Files/Marport Server/Logs/") but any path can be entered.</p></dd>


<dt id="arg-path-out">path_out<a class="anchor" aria-label="anchor" href="#arg-path-out"></a></dt>
<dd><p>Optional. The default is the local working directory but can be specified with a string.</p></dd>


<dt id="arg-filename-add">filename_add<a class="anchor" aria-label="anchor" href="#arg-filename-add"></a></dt>
<dd><p>Optional. Default = "new". This string will be added to the name of the outputed file. Here, you can additional information that may make this file helpful to find later.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>.BTH and .BTD files to the path_out directory.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># input files</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata/convert_bvdr_btd/201901_94_0003.ted"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "94,201901,3,6/3/2019 11:47:08,1,51,m"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "94,201901,3,6/3/2019 11:47:09,1,51,m"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "94,201901,3,6/3/2019 11:47:10,1,51,m"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "94,201901,3,6/3/2019 11:47:11,1,51,m"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "94,201901,3,6/3/2019 11:47:13,1,51,m"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata/convert_bvdr_btd/201901_94_0003.tet"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "94,201901,3,6/3/2019 10:49:47,1,8.8,C"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "94,201901,3,6/3/2019 10:49:37,1,8.7,C"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "94,201901,3,6/3/2019 10:49:45,1,8.7,C"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "94,201901,3,6/3/2019 10:49:46,1,8.7,C"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "94,201901,3,6/3/2019 10:49:48,1,8.7,C"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata/convert_bvdr_btd/201901_94_0003.teh"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "94,201901,3,6/3/2019 10:02:27,23,4.9"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "94,201901,3,6/3/2019 10:05:58,23,4.9"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "94,201901,3,6/3/2019 10:10:33,23,4.9"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "94,201901,3,6/3/2019 10:13:29,23,4.8"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "94,201901,3,6/3/2019 10:17:47,23,4.8"</span>
<span class="r-in"><span><span class="co">#' run function</span></span></span>
<span class="r-in"><span><span class="fu">convert_ted_btd</span><span class="op">(</span></span></span>
<span class="r-in"><span>   VESSEL <span class="op">=</span> <span class="fl">94</span>,</span></span>
<span class="r-in"><span>   CRUISE <span class="op">=</span> <span class="fl">201901</span>,</span></span>
<span class="r-in"><span>   HAUL <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>   MODEL_NUMBER <span class="op">=</span> <span class="fl">123</span>,</span></span>
<span class="r-in"><span>   VERSION_NUMBER <span class="op">=</span> <span class="fl">456</span>,</span></span>
<span class="r-in"><span>   SERIAL_NUMBER <span class="op">=</span> <span class="fl">789</span>,</span></span>
<span class="r-in"><span>   path_in <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata/convert_bvdr_btd/"</span>, package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   path_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   filename_add <span class="op">=</span> <span class="st">"newted"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Your new Z:/Projects/GAPsurvey_general/GAPsurvey/docs/reference/HAUL0003_newted .BTD and .BTH files are saved.</span>
<span class="r-in"><span><span class="co"># output files</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata/convert_bvdr_btd/HAUL0003_newted.BTD"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "VESSEL,CRUISE,HAUL,SERIAL_NUMBER,DATE_TIME,TEMPERATURE,DEPTH,"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "94,201901,3,789,6/3/2019 10:49:20,8.5,0,"                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "94,201901,3,789,6/3/2019 10:49:23,8.5,,"                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] "94,201901,3,789,6/3/2019 10:49:25,8.5,,"                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "94,201901,3,789,6/3/2019 10:49:26,8.5,,"                      </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"exdata/convert_bvdr_btd/HAUL0003_newted.BTH"</span>,</span></span>
<span class="r-in"><span>  package <span class="op">=</span> <span class="st">"GAPsurvey"</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "VESSEL,CRUISE,HAUL,MODEL_NUMBER,VERSION_NUMBER,SERIAL_NUMBER,HOST_TIME,LOGGER_TIME,LOGGING_START,LOGGING_END,SAMPLE_PERIOD,NUMBER_CHANNELS,NUMBER_SAMPLES,MODE"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] "94,201901,3,123,456,789,06/03/19 11:59:59,06/03/19 11:59:59,06/03/19 10:49:20,06/03/19 11:59:59,3,2,0,2"                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] NA                                                                                                                                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4] NA                                                                                                                                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] NA                                                                                                                                                              </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

<div class="pkgdown-footer-right">

</div>

    </footer></div>





  </body></html>

